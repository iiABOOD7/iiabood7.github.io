<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ”¥ðŸ¤– Roast & Toast ðŸŒŸðŸ’¬</title>

<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4311311949620406"
     crossorigin="anonymous"></script>

<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #121212;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #fff;
    min-height: 100vh;
    justify-content: flex-start;
    padding-top: 50px;
  }

  h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
    color: #ff6f61;
    text-shadow: 0 0 10px #ff6f61, 0 0 20px #ff3b2f, 0 0 30px #ff6f61;
    text-align: center;
  }

  .chat-container {
    background: #1e1e1e;
    border-radius: 15px;
    width: 400px;
    max-width: 90%;
    box-shadow: 0 10px 25px rgba(0,0,0,0.7);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    margin-top: 20px;
  }

  .chat-box {
    padding: 20px;
    flex: 1;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .chat-message {
    padding: 10px 15px;
    border-radius: 12px;
    max-width: 80%;
    word-wrap: break-word;
    animation: fadeIn 0.3s ease-in-out;
    font-weight: 500;
  }

  .chat-message.bot {
    background: #292929;
    color: #ffd700;
    align-self: flex-start;
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3);
  }

  .chat-message.user {
    background: #2a2a2a;
    color: #00ffea;
    align-self: flex-end;
    box-shadow: 0 2px 8px rgba(0, 255, 234, 0.3);
  }

  .input-container {
    display: flex;
    border-top: 1px solid #444;
  }

  input {
    flex: 1;
    padding: 15px;
    border: none;
    outline: none;
    font-size: 16px;
    background: #1e1e1e;
    color: #fff;
  }

  input::placeholder {
    color: #888;
  }

  button {
    padding: 0 20px;
    border: none;
    background: #ff6f61;
    color: #fff;
    cursor: pointer;
    font-size: 16px;
    transition: 0.2s;
  }

  button:hover {
    background: #ff3b2f;
  }

  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(10px);}
    to {opacity: 1; transform: translateY(0);}
  }

  .ad-container {
    margin: 10px 0;
    display: flex;
    justify-content: center;
  }
</style>
</head>
<body>
  <!-- Website Title -->
  <h1>ðŸ”¥ðŸ¤– Roast & Toast ðŸŒŸðŸ’¬</h1>

  <!-- AdSense Unit under the title -->
  <div class="ad-container">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-4311311949620406"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <!-- Chat Container -->
  <div class="chat-container">
    <div class="chat-box" id="chat-box">
      <div class="chat-message bot">Type a messageâ€¦ ðŸ”®</div>
    </div>
    <div class="input-container">
      <input type="text" id="user-input" placeholder="Type a messageâ€¦">
      <button onclick="sendMessage()">Send ðŸ’Œ</button>
    </div>
  </div>

<script>
const chatBox = document.getElementById('chat-box');
const userInput = document.getElementById('user-input');

// Huge list of roasts & toasts
const predefinedResponses = [
  "You're like a cloud. When you disappear, it's a beautiful day.",
  "Your smile is proof that even chaos can be cute.",
  "You're the human version of a typo.",
  "You have something on your chinâ€¦ no, the third one down.",
  "You're like a software updateâ€¦ annoying but necessary.",
  "You're a masterpiece of confusion.",
  "If brains were taxed, you'd get a refund.",
  "You're proof that even mistakes can be original.",
  "You're like Monday morningsâ€¦ nobody likes you but we tolerate you.",
  "You have something specialâ€¦ it's called unpredictability.",
  "You're a legendâ€¦ in your own lunchtime.",
  "Your aura screams 'I tried.'",
  "You're like WiFiâ€¦ invisible but essential.",
  "You bring chaosâ€¦ and a little laughter with it.",
  "You're like a puzzleâ€¦ but missing some pieces.",
  "You're the plot twist nobody saw coming.",
  "You're a snackâ€¦ a very confusing snack.",
  "You're like glitterâ€¦ impossible to get rid of.",
  "You have a face for radioâ€¦ and a voice for art.",
  "You're the human version of 'loadingâ€¦'"
];

// Append messages
function appendUserMessage(message) {
  const div = document.createElement('div');
  div.classList.add('chat-message', 'user');
  div.textContent = message;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
}

function appendBotMessage(message) {
  const div = document.createElement('div');
  div.classList.add('chat-message', 'bot');
  div.textContent = message;
  chatBox.appendChild(div);
  chatBox.scrollTop = chatBox.scrollHeight;
}

// Get response from Vercel backend or fallback random
async function getAIResponse(message) {
  try {
    const res = await fetch('https://roast-toast-backend.vercel.app/api/ai-chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prompt: message })
    });
    const data = await res.json();
    if (data.reply && data.reply.trim() !== "") return data.reply;

    // Fallback random
    return predefinedResponses[Math.floor(Math.random() * predefinedResponses.length)];
  } catch {
    // On error, random
    return predefinedResponses[Math.floor(Math.random() * predefinedResponses.length)];
  }
}

// Send message
async function sendMessage() {
  const message = userInput.value.trim();
  if (!message) return;

  appendUserMessage(message);
  userInput.value = '';

  const reply = await getAIResponse(message);
  appendBotMessage(reply);
}

// Enter key
userInput.addEventListener('keypress', function(e) {
  if (e.key === 'Enter') sendMessage();
});
</script>
</body>
</html>
